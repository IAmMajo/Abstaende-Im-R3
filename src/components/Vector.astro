---
import { MdFilledTextField } from "@material/web/textfield/filled-text-field";

export interface Props {
  id: string;
}

const id = Astro.props.id;
---

{
  (
    // Vektor X
    // @ts-expect-error
    <MdFilledTextField
      id={`${id}-x`}
      label="X-Koordinate"
      type="number"
      required
      step="any"
      client:only="lit"
    />
  )
}
{
  (
    // Vektor Y
    // @ts-expect-error
    <MdFilledTextField
      id={`${id}-y`}
      label="Y-Koordinate"
      type="number"
      required
      step="any"
      client:only="lit"
    />
  )
}
{
  (
    // Vektor Z
    // @ts-expect-error
    <MdFilledTextField
      id={`${id}-z`}
      label="Z-Koordinate"
      type="number"
      required
      step="any"
      client:only="lit"
    />
  )
}
<script>
  addEventListener("focusin", generatePlaceholder);
  addEventListener("input", generatePlaceholder);

  function generatePlaceholder(event: Event) {
    const target = event.target as HTMLElement;
    if (target.tagName !== "MD-FILLED-TEXT-FIELD") {
      return;
    }
    let placeholder = (Math.random() * 10000).toLocaleString("de", {
      useGrouping: false,
      maximumFractionDigits: 2,
    });
    if (Math.random() < 0.5 && placeholder !== "0") {
      placeholder = `-${placeholder}`;
    }
    (target as HTMLInputElement).placeholder = placeholder;
  }
</script>
